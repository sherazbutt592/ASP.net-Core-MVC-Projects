@using ETickets.Data.ViewModels
@model MovieViewModel
@{
    ViewBag.Title = $"{ViewBag.Operation} Movie";
}
<h3 class="text-center">@ViewBag.Operation Movie</h3>
<div class="row mx-auto w-75">
    <div class="col-md-12">
        <div class="mb-3 d-flex justify-content-center">
            <img src="@Url.Content("~/Images/" + @Model.Image)" alt="Preview Image" id="preview" class="rounded-circle fixed-img-height align" />
        </div>
    </div>
    <div class="col-md-6">

        @* Name, StartDate, EndDate, Price *@   
        <div class="mb-3">
            <label class="form-label">@Html.DisplayNameFor(Model => Model.Name)</label>
            <input class="form-control" type="text" asp-for="Name" readonly />
        </div>
        <div class="mb-3">
            <label class="form-label">@Html.DisplayNameFor(Model => Model.StartDate)</label>
            <input class="form-control" type="date" asp-for="StartDate" readonly />
        </div>
        <div class="mb-3">
            <label class="form-label">@Html.DisplayNameFor(Model => Model.EndDate)</label>
            <input class="form-control" type="date" asp-for="EndDate" readonly />
        </div>
        <div class="mb-3">
            <label class="form-label">@Html.DisplayNameFor(Model => Model.Price)</label>
            <input class="form-control" type="number" step="0.01" asp-for="Price" readonly />
        </div>
    </div>
    <div class="col-md-6">

        @* Cinema *@
        <div class="mb-3">
            <label class="form-label">Select Cinema</label>
            <ol class="form-control" style="padding-left:25px;">
                @foreach (var item in ViewBag.Cinemas)
                {
                    if (item.Id == Model.CinemaId)
                    {
                        <li>@item.Name</li>
                    }
                }
            </ol>
        </div>

        @* MovieCategory *@
        <div class="mb-3">
            <label class="form-label">Select Category</label>
            <ol class="form-control" style="padding-left:25px;">
                <li>@Model.MovieCategory</li>
            </ol>
        </div>

        @* Producer *@
        <div class="mb-3">
            <label class="form-label">Select Producer</label>
            <ol class="form-control" style="padding-left:25px;">
                @foreach (var item in ViewBag.Producers)
                {
                    if (item.Id == Model.ProducerId)
                    {
                        <li>@item.FullName</li>
                    }
                }
            </ol>
        </div>

        @* Actors *@
        <div class="mb-3">
            <label class="form-label">Select Actors</label>
            <ol class="form-control" style="padding-left:25px;">
                @foreach (var item in ViewBag.Actors)
                {
                    if (Model.ActorIds.Contains(item.Id))
                    {
                        <li>@item.FullName</li>
                    }
                }
            </ol>
        </div>
    </div>

    @* Description *@
    <div class="col-md-12">
        <div class="mb-3"></div>
        <label class="form-label">@Html.DisplayNameFor(Model => Model.Description)</label>
        <textarea class="form-control" asp-for="Description" rows="5" readonly></textarea>
    </div>
    <div class="col-md-12">
        <div class="mt-3 d-flex justify-content-between">
            @if (User.Identity.IsAuthenticated && User.IsInRole("Admin"))
            {
                <a class="btn btn-outline-dark" asp-action="AddEdit" asp-route-id="@Model.Id">Edit</a>
            }
            <a class="btn btn-outline-dark" asp-action="Index">Show All</a>
        </div>
    </div>
</div>
